apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: gearup
data:
  # Application Configuration
  SPRING_APPLICATION_NAME: "gearup-backend"
  
  # Base URLs
  APP_BASE_URL: "http://backend-service:8080"
  APP_FRONTEND_URL: "http://frontend-service"
  
  # JPA Configuration
  SPRING_JPA_HIBERNATE_DDL_AUTO: "update"
  SPRING_JPA_SHOW_SQL: "true"
  SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL: "true"
  SPRING_JPA_OPEN_IN_VIEW: "false"
  
  # Swagger Configuration
  SPRINGDOC_SWAGGER_UI_PATH: "/swagger-ui.html"
  SPRINGDOC_API_DOCS_ENABLED: "true"
  SPRINGDOC_SWAGGER_UI_ENABLED: "true"
  SPRINGDOC_API_DOCS_PATH: "/v3/api-docs"
  
  # JWT Expiration (in milliseconds)
  JWT_EXPIRATION: "43200000"
  JWT_REFRESH_EXPIRATION: "604800000"
  JWT_EMAIL_VERIFICATION_EXPIRATION: "300000"
  
  # Email Configuration
  SPRING_MAIL_HOST: "smtp.gmail.com"
  SPRING_MAIL_PORT: "587"
  SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH: "true"
  SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE: "true"
  SPRING_MAIL_DEFAULT_ENCODING: "UTF-8"
  
  # GraphQL Configuration
  SPRING_GRAPHQL_PATH: "/graphql"
  SPRING_GRAPHQL_GRAPHIQL_ENABLED: "true"
  
  # Admin initialization
  APP_ADMIN_EMAIL: "admin@gearup.com"
  APP_ADMIN_PASSWORD: "Admin@123"
  APP_ADMIN_NAME: "System Administrator"
  APP_ADMIN_INIT_ENABLED: "true"
  
  # Redis Configuration
  SPRING_DATA_REDIS_HOST: "redis-service"
  SPRING_DATA_REDIS_PORT: "6379"
  SPRING_DATA_REDIS_TIMEOUT: "60000"
  
  # Cache Configuration
  SPRING_CACHE_TYPE: "redis"
  SPRING_CACHE_REDIS_TIME_TO_LIVE: "3600000"
  
  # Chatbot Service (if you have it)
  CHATBOT_SERVICE_URL: "https://gearup-rag-api.orangetree-fb98338e.southeastasia.azurecontainerapps.io"
  CHATBOT_PYTHON_SERVICE_URL: "https://gearup-rag-api.orangetree-fb98338e.southeastasia.azurecontainerapps.io"
  CHATBOT_PYTHON_SERVICE_TIMEOUT: "30"
  # CORS allowed origins (comma separated). Add your frontend external IP or domain here.
  cors.allowed.origins: "http://localhost:3000,http://localhost:80,https://gearup.code102.site,http://34.42.2.114"
  # Also expose as environment variable name Spring maps from (uppercase with underscores)
  CORS_ALLOWED_ORIGINS: "http://localhost:3000,http://localhost:80,https://gearup.code102.site,http://34.42.2.114"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: frontend-config
  namespace: gearup
data:
  # Use NodePort URL so frontend can connect from browser
  NEXT_PUBLIC_API_URL: "http://192.168.49.2:30160/api/v1"
  NEXT_PUBLIC_GRAPHQL_URL: "http://192.168.49.2:30160/graphql"
